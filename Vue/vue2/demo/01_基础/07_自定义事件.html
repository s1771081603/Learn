<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>自定义事件</title>
		<script src="../vue.js" type="text/javascript" charset="utf-8"></script>
	</head>
	<body>
		<div id="root">
			<base-input label="ceshi" value="123456" input="console.log('111')"></base-input>
		</div>
		<script type="text/javascript">
			Vue.component('base-input', {
			  inheritAttrs: false,
			  props: ['label', 'value'],
			  computed: {
			    inputListeners: function () {
			      let vm = this
			      // `Object.assign` 将所有的对象合并为一个新对象
			      return Object.assign({},
			        // 我们从父级添加所有的监听器
			        this.$listeners,
			        // 然后我们添加自定义监听器，
			        // 或覆写一些监听器的行为
			        {
			          // 这里确保组件配合 `v-model` 的工作
			          input: function (event) {
			            vm.$emit('input', event.target.value)
			          }
			        }
			      )
			    }
			  },
			  template: `
			    <label>
			      {{ label }}
			      <input
			        v-bind="$attrs"
			        v-bind:value="value"
			        v-on="inputListeners"
			      >
			    </label>
			  `
			})
			let vm = new Vue({
				el: '#root',
				
			});
		</script>
	</body>
</html>
